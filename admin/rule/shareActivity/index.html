<div class="row bg-white">
    <div ng-include="'/admin/rule/leftmenu.html?v=1'"></div>
    <div class="v-shadow-content ruleadd">
      <div class="col-sm-12 mb15">
        <button type="button" class="btn btn-primary pull-right" ng-click="addFn()">新增
        </button>
      </div>
      <div class="row">
      <div class="time-line1 col-sm-3" ng-repeat="item in view.rule">
        <div class="line-in">
          <h4>{{item.name}} <span class="text-red">{{item.state=='DISABLED'?'已结束':''}}</span></h4>
          <img ng-if="item.picUrl" style="height: 200px" ng-src="{{item.picUrl||''}}">
  
          <div ng-repeat="text in item.text">{{($index+1)+". " + text}}</div>
          <div ng-if="item.countLimit">总份数{{item.countLimit}} 还剩余{{item.unUsedCount}}份</div>
          <!-- <div class="">
            <div>活动分享链接</div>
            <input value="{{item.url}}" readonly>
            <button ng-click="copyFn(item.url)">复制链接</button>
          </div> -->
          <div class="mt15">
            <button type="button" class="btn btn-primary" ng-click="goto('rule/editShareActivity/' +item.id)"
                    ng-if="!item.on">修改
            </button>
            <button type="button" class="btn btn-success" ng-click="activityOn(item.id)" ng-if="!item.on">上线
            </button>
            <button type="button" class="btn btn-warning" ng-click="activityOff(item.id)" ng-if="item.on">下线
            </button>
            <button type="button" class="btn btn-danger" ng-click="activityDel(item.id)"
            ng-if="!item.on">删除
            </button>
          </div>
        </div>
      </div>
    </div>
    </div>
  </div>