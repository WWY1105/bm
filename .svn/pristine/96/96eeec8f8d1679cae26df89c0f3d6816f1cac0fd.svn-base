<div class="container contents bgw">
  <div class="table col-sm-12" ng-if="view.devices.items">
    <div class="col-sm-12 plan-title text-center">
      <div class="col-sm-1">序号</div>
      <div class="col-sm-3">激活码</div>
      <div class="col-sm-2">设备名称</div>
      <div class="col-sm-2">设备类型</div>
      <div class="col-sm-2">激活日期</div>
      <div class="col-sm-2">操作</div>
    </div>
    <div class="col-sm-12 plan-son text-center slide-down"
         ng-repeat="device in view.devices.items|orderBy:'createTime':true" ng-mouseenter="view.show=$index +1"
         ng-mouseleave="view.show=0">
      <div class="col-sm-1" ng-bind="((view.devices.page-1)*view.devices.count)+$index+1"></div>
      <div class="col-sm-3">
        <div>{{device.code|splitcode}}</div>
        <qrcode style="padding-top:10px" size="100" data="{{device.code}}" ng-if="view.show == $index+1"></qrcode>
      </div>

      <div class="col-sm-2" ng-bind="device.deviceName||'无'"></div>
      <div class="col-sm-2" ng-bind="device.type?device.type==0?'子机':'主机':'无'"></div>
      <div class="col-sm-2" ng-bind="(device.activateTime|date:'yyyy-MM-dd')||'无'"></div>
      <div class="col-sm-2">
        <button class="btn btn-primary" ng-if="device.activateTime" ng-click="unbind($index)">解绑</button>
      </div>
    </div>
  </div>
  <div class="col-sm-12" ng-if="view.divices.total/view.devices.count>1">
    <pagination items-per-page="view.devices.count" boundary-links="true" total-items="view.devices.total"
                ng-model="view.devices.page" class="pagination-sm" previous-text="&lsaquo;" ng-change="pageChange()"
                next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>

  </div>

  <div class="col-sm-2 col-sm-offset-9">
    <button ng-if="config.staff.roleType=='K'" class="btn btn-primary btn-block" ng-click="jihuo()">新增激活码</button>
  </div>
  <div class="col-sm-12">
    <h4 ng-if="!view.devices&&loading">读取中请稍后...</h4>
  </div>
</div>
