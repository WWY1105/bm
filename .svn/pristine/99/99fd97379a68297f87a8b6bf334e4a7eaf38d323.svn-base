<div class="row bg-white">
  <div ng-include="'/admin/rule/leftmenu.html'"></div>
  <div class="v-shadow-content ruleadd">
    <div class="col-md-12 shopshow">
      <div class="col-sm-12 mb15">
        <button type="button" class="btn btn-primary pull-right" ng-click="openFn()">
          <span ng-if="view.nonParticipation">修改</span>
          <span ng-if="!view.nonParticipation">新增</span>
        </button>
      </div>
      <div ng-if="view.nonParticipation" class="rotate-in">
        <div class="clear" style="border: 1px dashed #eee;padding: 10px;">
          <div class="">
            {{view.nonParticipation.content}} <!-- <a class="btn btn-xs btn-danger" ng-click="remove($index)">删除</a>-->
          </div>
          <div ng-if="view.nonParticipation.items">包含：<span ng-repeat="item in view.nonParticipation.items">{{item.name}}，</span>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
<div id="add" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="mySmallModalLabel"
     aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <span>不参与项目</span>
        <button type="button" class="close" data-dismiss="modal" ng-click="closeModal()">
          <span aria-hidden="true" class="text-orange">×</span>
          <span class="sr-only">Close</span>
        </button>
      </div>
      <form name="add_form">
        <div class="modal-body" style="min-height: 300px">
          <div class="ruleadd ruleadd2 form-inline">
            <div class="out">
              <div class="col-sm-2">
                <span class="title">*名称 :</span>
              </div>
              <div class="col-sm-10">
                <input type="text" class="form-control" ng-model="post.content" required/>
              </div>
            </div>
            <div class="out" ng-if="view.category.length">
              <div class="col-sm-2">
                <span class="title">*包含 :</span>
              </div>
              <div class="col-sm-10">
                <div ng-repeat="item in post.items" style="padding-bottom: 10px;border-bottom: 1px dashed #F0F0F0">
                  <label ng-repeat="type in view.category" style="margin-right: 5px">
                    <input type="radio" ng-model="item.type" ng-value="type.id" name="proportion{{$parent.$index}}"
                           required>{{type.name}}
                  </label>
                  <div class="form-group" style="margin-left: 60px">
                    <a class="add click" ng-if="$first" ng-click="addFn()"> <i
                            class="glyphicon glyphicon-plus"></i></a>
                    <a class="remove click" ng-click="removeFn($index)"> <i class="glyphicon glyphicon-remove"></i></a>
                  </div>
                  <br>
                  <select ng-model="item.id" class="form-control"
                          ng-options="dish.id as (dish.name + (dish.code?'('+dish.code+')':''))  for dish in view.factor[item.type]"
                          name="member" required>
                  </select>
                </div>
                <a class="add click" ng-if="!post.items.length" ng-click="addFn()"> <i
                        class="glyphicon glyphicon-plus"></i></a>
              </div>
            </div>

          </div>
        </div>
        <div class="modal-footer">
          <div class="col-md-3 col-md-offset-3">
            <div class="btn btn-default btn-block" data-dismiss="modal">关闭</div>
          </div>
          <div class="col-md-3 col-md-setoff-1">
            <div class="btn btn-primary btn-block" ng-click="sendJsons()" type="submit" ng-disabled="!add_form.$valid">
              确定
            </div>
          </div>
        </div>

      </form>
      <!--</div>-->
      <!--</div>-->
      <!--</div>-->
    </div>
  </div>

</div>
