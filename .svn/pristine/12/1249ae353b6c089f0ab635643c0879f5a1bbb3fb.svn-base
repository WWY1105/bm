<div class="container contents bgw">
  <!-- <div class=" col-sm-12" ng-if="view.coupons">
     <div class="col-sm-4 col-md-3 " ng-repeat="(key, value) in view.coupons" style="display: inline-block;vertical-align: top;float: none">
       <div class="coupons">
         <div class="title">
           <div class="col-xs-10 text-center text-nowrap">
             <h3 ng-bind="value.name"></h3>
           </div>
           <div class="col-xs-1">
             <i ng-click="couponDelFn($index)" class="glyphicon glyphicon-remove"></i>
           </div>
         </div>
         <ul style="padding: 10px;line-height: 1.7">
           <li ng-repeat="(key2, value2) in value.content" ng-bind="value2">
           </li>
         </ul>
       </div>
     </div>
   </div>-->
  <div class="col-sm-12 mb15">
    <div class="col-sm-2 col-sm-offset-10 btn btn-primary" ng-click="openOrClose()">添加券</div>
  </div>

  <table class="table table-bordered">
    <thead>
    <tr class="plan-title">
      <td>序号</td>
      <td>券号</td>
      <td>名称</td>
      <td>类型</td>
      <td>总数</td>
      <td>明细</td>
      <td>创建时间</td>
      <td>操作</td>
    </tr>
    </thead>
    <tbody class="slide-down">
    <tr ng-repeat="row in view.coupons.items">
      <td ng-bind="((view.coupons.page-1)*view.coupons.count)+$index+1"></td>
      <td ng-bind="row.code"></td>
      <td ng-bind="row.name"></td>
      <td ng-bind="view.type[row.category]"></td>
      <td ng-bind="row.total||0"></td>
      <td>
        <div ng-repeat="(a,b) in row.count">{{view.state[a]+": "+b}}</div>
      </td>
      <td ng-bind="row.createTime"></td>
      <td>
        <div ng-if="row.deleted">已删除</div>
        <div ng-if="!row.deleted">
          <a ng-click="detailFn(row.id)">详情</a>
          <a ng-click="couponDelFn($index)">删除</a>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
  <div class="col-sm-12 plan-son text-left" ng-if="!view.coupons.items[0]">
    无查询结果
  </div>
  <div class="col-sm-12" ng-if="view.coupons.pageSize>1">
    <pagination items-per-page="view.coupons.count" boundary-links="true" total-items="view.coupons.total"
                ng-model="view.coupons.page" class="pagination-sm" previous-text="&lsaquo;" ng-change="pageChange()"
                next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
  </div>
  <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="width: 690px">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            &times;
          </button>
          <h4 class="modal-title">添加券</h4>
        </div>
        <div class="modal-body">
          <coupon-new add-ok="testAddOk(result)" add-fail="testAddFail(result)"></coupon-new>
          <div style="height: 40px"></div>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal -->
  </div>
  <div class="modal fade" id="show" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            &times;
          </button>
          <h4 class="modal-title" ng-bind="coupon.name"></h4>
        </div>
        <div class="modal-body">
          <div class="" ng-repeat="a in coupon.content" ng-bind="a">
          </div>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal -->
  </div>

</div>
